{"version":3,"file":"static/js/30550.0cefcc06.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/arcade.js","../node_modules/@arcgis/core/arcade/ImmutableArray.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"./Graphic.js\";import{ArcadeDate as t}from\"./arcade/ArcadeDate.js\";import r from\"./arcade/ImmutableArray.js\";import\"./core/has.js\";import{deprecated as a}from\"./core/deprecate.js\";import n from\"./core/Error.js\";import{clone as o}from\"./core/lang.js\";import c from\"./core/Logger.js\";import{DateOnly as s}from\"./core/sql/DateOnly.js\";import{TimeOnly as i}from\"./core/sql/TimeOnly.js\";import p from\"./layers/FeatureLayer.js\";import u from\"./portal/Portal.js\";import l from\"./rest/support/FeatureSet.js\";import{loadArcade as m}from\"./support/loadArcade.js\";let y=null;function f(e,t,a,n={}){const o=t.elementType,c=\"value\",s=\"array\"===o.type?[{name:c,type:o.type,elementType:o.elementType}]:\"dictionary\"===o.type?[{name:c,type:o.type,properties:o.properties}]:[{name:c,type:o.type}];return new r(e.map((e=>{const t={};return g(t,s,{[c]:e},a,n),t[c]})))}function d(e,t,r={}){const a=e instanceof l?new p({source:e.features,geometryType:e.geometryType,fields:e.fields,spatialReference:e.spatialReference}):e;return t.constructFeatureSet(a,r.spatialReference,null,!0,r.lruCache,r.interceptor)}function b(e,t,r={}){const{spatialReference:a,interceptor:n,lruCache:o}=r;return\"string\"==typeof e?t.createFeatureSetCollectionFromService(e,a,o,n):t.createFeatureSetCollectionFromMap(e,a,o,n)}function v(e,t,r,a={}){const n=Object.create(null);return g(n,t.properties,e,r,a),new y.Dictionary(n)}function g(e,r,a,n,o={}){const c={};for(const t of Object.keys(a))c[t.toLowerCase()]=a[t];for(const p of r){const r=p.name.toLowerCase();if(o.variablesPreProcessed)e[r]=c[r];else switch(p.type){case\"array\":{const t=c[r];e[r]=null==t?null:f(t,p,n,o);break}case\"feature\":{const t=c[r];e[r]=null==t?null:y.Feature.createFromGraphic(t,o?.timeZone);break}case\"featureSet\":{const t=c[r];e[r]=null==t?null:n?d(t,n,o):null;break}case\"featureSetCollection\":{const t=c[r];e[r]=null==t?null:n?b(t,n,o):null;break}case\"dictionary\":{const t=c[r];e[r]=null==t?null:v(t,p,n,o);break}case\"date\":{const a=c[r];e[r]=a?a instanceof t?a:o?.timeZone?t.dateJSAndZoneToArcadeDate(a,o?.timeZone):t.dateJSToArcadeDate(a):null;break}case\"dateOnly\":{const t=c[r];e[r]=t?t instanceof s?t:s.fromReader(t):null;break}case\"time\":{const t=c[r];e[r]=t?t instanceof i?t:i.fromReader(t):null;break}case\"knowledgeGraph\":case\"geometry\":case\"boolean\":case\"text\":case\"number\":e[r]=c[r];break;case\"voxel\":{const t=c[r];e[r]=null==t?null:new y.Voxel(t,o?.timeZone);break}}}}function w(e,t){for(const r of e)t.push(r),\"dictionary\"===r.type&&w(r.properties,t);return t}function S(e,t,r,a,n){const{spatialReference:o,interceptor:c,lruCache:s,console:i,abortSignal:p,timeZone:l,services:m={portal:u.getDefault()}}=r,y={vars:{},spatialReference:o,interceptor:c,timeZone:l,lrucache:s,useAsync:n,services:m,console:i,abortSignal:p};return t?(g(y.vars,e.variables,t,a,r),y):y}function h(t,r){switch(r.getArcadeType(t)){case\"number\":case\"text\":case\"boolean\":case\"point\":case\"polygon\":case\"polyline\":case\"multipoint\":case\"extent\":return t;case\"date\":return t.toJSDate();case\"time\":case\"dateOnly\":return t.toString();case\"feature\":{const r=(t.type,t),a=\"geometry\"in r?r.geometry():null,n=\"readAttributes\"in r?r.readAttributes():r.attributes;return new e({geometry:a,attributes:n})}case\"dictionary\":{const e=t,a=e.attributes,n={};for(const t of Object.keys(a))n[t]=h(e.field(t),r);return n}case\"array\":return(\"toArray\"in t?t.toArray():t).map((e=>h(e,r)))}return t}const $={variables:[{name:\"$feature\",type:\"feature\"},{name:\"$layer\",type:\"featureSet\"},{name:\"$datastore\",type:\"featureSetCollection\"},{name:\"$map\",type:\"featureSetCollection\"},{name:\"$userInput\",type:\"geometry\"},{name:\"$graph\",type:\"knowledgeGraph\"},{name:\"$view\",type:\"dictionary\",properties:[{name:\"scale\",type:\"number\"},{name:\"timeProperties\",type:\"dictionary\",properties:[{name:\"currentStart\",type:\"date\"},{name:\"currentEnd\",type:\"date\"},{name:\"startIncluded\",type:\"boolean\"},{name:\"endIncluded\",type:\"boolean\"}]}]}]},x={variables:[{name:\"$feature\",type:\"feature\"},{name:\"$aggregatedFeatures\",type:\"featureSet\"},{name:\"$view\",type:\"dictionary\",properties:[{name:\"scale\",type:\"number\"},{name:\"timeProperties\",type:\"dictionary\",properties:[{name:\"currentStart\",type:\"date\"},{name:\"currentEnd\",type:\"date\"},{name:\"startIncluded\",type:\"boolean\"},{name:\"endIncluded\",type:\"boolean\"}]}]}]},C={variables:[{name:\"$voxel\",type:\"voxel\"}]},j=new Map([[\"aggregate-field\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"form-constraint\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"feature-z\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"field-calculation\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$datastore\",type:\"featureSetCollection\"}]}],[\"form-calculation\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$originalFeature\",type:\"feature\"},{name:\"$layer\",type:\"featureSet\"},{name:\"$featureSet\",type:\"featureSet\"},{name:\"$datastore\",type:\"featureSetCollection\"},{name:\"$map\",type:\"featureSetCollection\"},{name:\"$editContext\",type:\"dictionary\",properties:[{name:\"editType\",type:\"text\"}]}]}],[\"labeling\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$view\",type:\"dictionary\",properties:[{name:\"scale\",type:\"number\"},{name:\"timeProperties\",type:\"dictionary\",properties:[{name:\"currentStart\",type:\"date\"},{name:\"currentEnd\",type:\"date\"},{name:\"startIncluded\",type:\"boolean\"},{name:\"endIncluded\",type:\"boolean\"}]}]}]}],[\"popup\",$],[\"popup-element\",$],[\"popup-feature-reduction\",x],[\"popup-element-feature-reduction\",x],[\"visualization\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$view\",type:\"dictionary\",properties:[{name:\"scale\",type:\"number\"},{name:\"timeProperties\",type:\"dictionary\",properties:[{name:\"currentStart\",type:\"date\"},{name:\"currentEnd\",type:\"date\"},{name:\"startIncluded\",type:\"boolean\"},{name:\"endIncluded\",type:\"boolean\"}]}]}]}],[\"popup-voxel\",C],[\"popup-element-voxel\",C]]);function A(e){\"feature-reduction-popup\"===e?(a(c.getLogger(\"esri.arcade\"),'profile name: \"feature-reduction-popup\"',{replacement:'\"popup-feature-reduction\"',version:\"4.32\",warnOnce:!0}),e=\"popup-feature-reduction\"):\"feature-reduction-popup-element\"===e&&(a(c.getLogger(\"esri.arcade\"),'profile name: \"feature-reduction-popup-element\"',{replacement:'\"popup-element-feature-reduction\"',version:\"4.32\",warnOnce:!0}),e=\"popup-element-feature-reduction\");const t=j.get(e);if(!t){const t=Array.from(j.keys()).map((e=>`'${e}'`)).join(\", \");throw new n(\"createArcadeProfile:invalid-profile-name\",`Invalid profile name '${e}'. You must specify one of the following values: ${t}`)}return o(t)}async function k(e,t,r={}){y||(y=await m());const{arcade:a,arcadeUtils:o,batchExec:{createBatchExecutor:c},aiServices:{BatchTranslationServiceFactory:s,PortalTranslationService:i}}=y,{loadScriptDependencies:p,referencesMember:l,scriptIsAsync:f}=a,d=w(t.variables,[]),b=d.filter((e=>\"featureSet\"===e.type||\"featureSetCollection\"===e.type)).map((e=>e.name.toLowerCase())),v=a.parseScript(e,b);if(!v)throw new n(\"arcade:invalid-script\",\"Unable to create SyntaxTree\");const g=o.extractFieldNames(v),$=a.scriptTouchesGeometry(v),x=d.map((e=>e.name.toLowerCase())).filter((e=>l(v,e))),C=f(v,b);await p(v,C,b);const j={vars:{},useAsync:C};for(const n of x)j.vars[n]=\"any\";const{lruCache:A,services:k}=r,T=a.compileScript(v,j),F=a.featureSetUtils(),I=(e,r={})=>{if(C)throw new n(\"arcade:invalid-execution-mode\",\"Cannot execute the script in synchronous mode\");const a={...k,...r.services},c={lruCache:A,...r,services:a},s=T(S(t,e,c,F,C));return r.rawOutput?s:h(s,o)},O=async(e,r={})=>{const a={...k,...r.services},n={lruCache:A,...r,services:a},c=await T(S(t,e,n,F,C));return r.rawOutput?c:h(c,o)},D=async(e,r,a={})=>{const n=[],p=c(e,(async(e,c)=>{const s=r(e);try{const e={...l,translation:m.create(c)},r={lruCache:A,...a,services:e},i=await T(S(t,s,r,F,C)),p=a.rawOutput?i:h(i,o);n.push({id:c.id,result:{status:\"fulfilled\",value:p}})}catch(i){throw n.push({id:c.id,result:{status:\"rejected\",reason:i}}),i}}),a.maxConcurrency??64,a.abortSignal),l={...k,...a.services},m=new s(p,l.translation??new i(l.portal??u.getDefault(),a.console));return await p.run(),n.sort((({id:e},{id:t})=>e-t)).map((({result:e})=>e))};return{execute:I,executeAsync:O,executeAsyncBatch:D,isAsync:C,variablesUsed:x,fieldsUsed:g,geometryUsed:$,syntaxTree:v}}export{k as createArcadeExecutor,A as createArcadeProfile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){return this.slice()}slice(t=0,e=this.length()){const s=[];for(let r=t;r<e;r++)s.push(this.get(r));return s}}export{t as default};\n"],"names":["y","f","e","t","a","n","arguments","length","undefined","o","elementType","c","s","type","name","properties","r","map","g","d","l","p","source","features","geometryType","fields","spatialReference","constructFeatureSet","lruCache","interceptor","b","createFeatureSetCollectionFromService","createFeatureSetCollectionFromMap","v","Object","create","Dictionary","keys","toLowerCase","variablesPreProcessed","Feature","createFromGraphic","timeZone","dateJSAndZoneToArcadeDate","dateJSToArcadeDate","fromReader","i","Voxel","w","push","S","console","abortSignal","services","m","portal","u","getDefault","vars","lrucache","useAsync","variables","h","getArcadeType","toJSDate","toString","geometry","readAttributes","attributes","field","toArray","$","x","C","j","Map","A","getLogger","replacement","version","warnOnce","get","Array","from","concat","join","async","k","arcade","arcadeUtils","batchExec","createBatchExecutor","aiServices","BatchTranslationServiceFactory","PortalTranslationService","loadScriptDependencies","referencesMember","scriptIsAsync","filter","parseScript","extractFieldNames","scriptTouchesGeometry","T","compileScript","F","featureSetUtils","execute","_objectSpread","rawOutput","executeAsync","executeAsyncBatch","_a$maxConcurrency","_l$translation","_l$portal","translation","id","result","status","value","reason","maxConcurrency","run","sort","_ref","_ref2","_ref3","isAsync","variablesUsed","fieldsUsed","geometryUsed","syntaxTree","constructor","this","_elements","slice"],"sourceRoot":""}