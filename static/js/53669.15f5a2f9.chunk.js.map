{"version":3,"file":"static/js/53669.15f5a2f9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/layers/VoxelGraphic.js","../node_modules/@arcgis/core/views/3d/layers/VoxelLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import o from\"../../../Graphic.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r),this.gpuResult=null}};r([s({constructOnly:!0,clonable:\"reference\"})],t.prototype,\"gpuResult\",void 0),t=r([e(\"esri.views.3d.layers.VoxelGraphic\")],t);export{t as VoxelGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Error.js\";import t from\"../../../core/Logger.js\";import{watch as i,initial as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{h as l,n,i as h}from\"../../../chunks/vec32.js\";import{create as c}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import d from\"../../../geometry/SpatialReference.js\";import{projectVectorToVector as u}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as m,expandWithVec3 as p}from\"../../../geometry/support/aaBoundingBox.js\";import{equals as y}from\"../../../geometry/support/spatialReferenceUtils.js\";import{LayerView3D as b}from\"./LayerView3D.js\";import{VoxelGraphic as V}from\"./VoxelGraphic.js\";import{addLayerViewToWasm as _,getVoxelWasm as w,removeLayerViewFromWasm as f}from\"./VoxelWasm.js\";import{LayerViewPerformanceInfo as g}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as S}from\"./support/PopupSceneLayerView.js\";import v from\"../../layers/LayerView.js\";import{spatialReferenceIncompatibleError as W,isInEffectiveScaleRange as T}from\"../../support/layerViewUtils.js\";var x;!function(e){e[e.API=1]=\"API\",e[e.VerboseAPI=2]=\"VerboseAPI\",e[e.Error=3]=\"Error\"}(x||(x={}));const L=c(),A=c();let E=class extends(S(b(v))){constructor(){super(...arguments),this._suspendedHandle=null,this._usedMemory=0,this._futureMemory=0,this.type=\"voxel-3d\",this.slicePlaneEnabled=!1,this._wasmLayerId=-1,this.ignoresMemoryFactor=!0,this._dbgFlags=new Set}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get wasmLayerId(){return this._wasmLayerId}initialize(){if(this._dbgFlags.add(x.Error),\"local\"!==this.view.viewingMode)throw new s(\"voxel:unsupported-viewingMode\",\"Voxel layers support local viewingMode only.\",{});if(!!!this.view.stage.renderView.renderingContext.capabilities.colorBufferFloat?.textureFloat)throw new s(\"voxel:missing-color-buffer-float\",\"Voxel layers require the WebGL2 extension EXT_color_buffer_float\",{});const e=this.layer.spatialReference;if(!y(e,this.view.spatialReference))throw W(\"voxel layer\",e.wkid,this.view.spatialReference.wkid);const t=this.layer.currentVariableId,o=this.layer.getVolume(t),a=this.layer.getVariable(t);if(null!=o&&null!=a){const e=o.dimensions[0],s=o.dimensions[1],t=o.zDimension;if(t>1){const i=o.dimensions[t],r=e.size*s.size*i.size;let l=1;switch(a.renderingFormat.type){case\"Int16\":case\"UInt16\":l=2;break;case\"Int32\":case\"UInt32\":case\"Float32\":l=4}this._futureMemory=l*r}}const l=_(this).then((e=>{this._wasmLayerId=e,this._suspendedHandle=i((()=>this.suspended),(e=>{const s=w(this.view);s&&s.setEnabled(this,!e)}),r),this.addHandles([i((()=>this.layer.renderMode),(e=>this._pushRenderModeToWasm(e))),i((()=>this.layer.currentVariableId),(e=>this._pushCurrentVariableIdToWasm(e))),i((()=>this.layer.getSections()),(e=>this._pushSectionsToWasm(e))),i((()=>this.layer.getVariableStyles()),(e=>this._pushVariableStylesToWasm(e))),i((()=>this.layer.getVolumeStyles()),(e=>this._pushVolumeStylesToWasm(e))),i((()=>this.layer.enableDynamicSections),(e=>this._pushEnableDynamicSectionsToWasm(e))),i((()=>this.layer.enableIsosurfaces),(e=>this._pushEnableIsosurfacesToWasm(e))),i((()=>this.layer.enableSections),(e=>this._pushEnableSectionsToWasm(e))),i((()=>this.layer.enableSlices),(e=>this._pushEnableSlicesToWasm(e))),i((()=>[this.layer.timeOffset,this.layer.timeExtent,this.layer.useViewTime]),(()=>this._updateLayerTimeProperties())),i((()=>this.slicePlaneEnabled),(e=>this._pushAnalysisSliceToWasm(e,this.view.slice.plane))),i((()=>this.view.slice.plane),(e=>this._pushAnalysisSliceToWasm(this.slicePlaneEnabled,e)))])})).catch((e=>{if(f(this),this._wasmLayerId=-1,-1===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer description was invalid.\",{});if(-2===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer web assembly module failed to download.\",{})}));this.addResolvingPromise(l)}destroy(){f(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null)}isUpdating(){const e=w(this.view);return!(this._wasmLayerId<0||null==e)&&e.isUpdating(this._wasmLayerId)}updatingFlagChanged(){this.notifyChange(\"updating\")}get usedMemory(){return this._usedMemory}get unloadedMemory(){return this._futureMemory}get performanceInfo(){return new g(this.usedMemory)}get visibleAtCurrentScale(){return T(this.layer.effectiveScaleRange,this.view.scale)}whenGraphicBounds(e,s){const t=e.attributes[\"Voxel.WorldPosition\"];if(t){const e=m(),s=JSON.parse(t);if(u(s,this.view.renderSpatialReference,A,this.view.spatialReference||d.WGS84))return p(e,A),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}return Promise.reject()}async whenGraphicAttributes(e,s){const t=w(this.view);if(!t)return e;const i=[];for(const r of e)this._isValidVoxelGraphic(r)&&i.push(r);return i.length&&await t.getOtherFieldPopupValues(i,s),e}_isValidVoxelGraphic(e){return e instanceof V}setUsedMemory(e){this._usedMemory=e,this._futureMemory=0}captureFrustum(){const e=w(this.view);e?.captureFrustum()}toggleFullVolumeExtentDraw(){const e=w(this.view);e?.toggleFullVolumeExtentDraw(this)}getLayerTimes(){const e=w(this.view);return e?.getLayerTimes(this)??[]}getCurrentLayerTimeIndex(){const e=w(this.view);return e?.getCurrentLayerTimeIndex(this)??0}dropQueryRenderTarget(){const e=w(this.view);e?.dropQueryRenderTarget()}_pushRenderModeToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushRenderModeToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setRenderMode(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushRenderModeToWasm() failed!\")}_pushSectionsToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setStaticSections(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushSectionsToWasm() failed!\")}_pushCurrentVariableIdToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() called!, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setCurrentVariable(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() failed!\")}_pushVariableStylesToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushVariableStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setVariableStyles(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushVariableStylesToWasm() failed!\")}_accountForEnableSlices(e,s){const t=null!=s?s:this.layer.enableSlices;for(let i=0;i<e.length;++i){const s=e[i];for(const e of s.slices)e.enabled=e.enabled&&t}}_pushVolumeStylesToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushVolumeStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s&&(this._accountForEnableSlices(e,null),s.setVolumeStyles(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushVolumeStylesToWasm() failed!\"))}_pushAnalysisSliceToWasm(e,s){const t=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushAnalysisSliceToWasm() called, \"+(t?\"have WASM\":\"don't have WASM!!!\"));let i=!1;if(t){if(s){const r=s.origin;l(L,s.basis1,s.basis2),n(L,L),i=t.setAnalysisSlice(this,e,r,L)}else h(L,0,0,1),i=t.setAnalysisSlice(this,!1,L,L);i||this._dbg(x.Error,\"VoxelLayerView3D._pushAnalysisSliceToWasm() failed!\")}}_updateLayerTimeProperties(){const e=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._updateLayerTimeProperties() called, \"+(e?\"have WASM\":\"don't have WASM!!!\")),e&&e.updateLayerTimeProperties(this)}_pushEnableDynamicSectionsToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableDynamicSections(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() failed!\")}_pushEnableSlicesToWasm(e){const s=w(this.view);if(this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableSlicesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s){const t=this.layer.getVolumeStyles();this._accountForEnableSlices(t,e),s.setVolumeStyles(this,t)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableSlicesToWasm() failed!\")}}_pushEnableIsosurfacesToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableIsosurfaces(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() failed!\")}_pushEnableSectionsToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableSections(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableSectionsToWasm() failed!\")}_dbg(e,s){this._dbgFlags.has(e)&&(e===x.Error?t.getLogger(this).error(s):t.getLogger(this).warn(s))}};e([o()],E.prototype,\"layer\",void 0),e([o()],E.prototype,\"baseUrl\",null),e([o({type:Boolean})],E.prototype,\"slicePlaneEnabled\",void 0),e([o({readOnly:!0})],E.prototype,\"visibleAtCurrentScale\",null),E=e([a(\"esri.views.3d.layers.VoxelLayerView3D\")],E);const M=E;export{M as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(s,i,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);export{u as default};\n"],"names":["async","n","_n$fieldsIndex","_n$fieldsIndex2","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","_n$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","constructor","r","super","this","gpuResult","constructOnly","clonable","prototype","x","API","VerboseAPI","Error","L","c","A","E","S","b","v","_suspendedHandle","_usedMemory","_futureMemory","type","slicePlaneEnabled","_wasmLayerId","ignoresMemoryFactor","_dbgFlags","Set","baseUrl","_this$layer$parsedUrl","_this$layer$parsedUrl2","layer","parsedUrl","path","wasmLayerId","initialize","_this$view$stage$rend","add","view","viewingMode","stage","renderView","renderingContext","capabilities","colorBufferFloat","textureFloat","spatialReference","y","W","wkid","currentVariableId","getVolume","getVariable","dimensions","zDimension","size","renderingFormat","_","then","suspended","w","setEnabled","addHandles","renderMode","_pushRenderModeToWasm","_pushCurrentVariableIdToWasm","getSections","_pushSectionsToWasm","getVariableStyles","_pushVariableStylesToWasm","getVolumeStyles","_pushVolumeStylesToWasm","enableDynamicSections","_pushEnableDynamicSectionsToWasm","enableIsosurfaces","_pushEnableIsosurfacesToWasm","enableSections","_pushEnableSectionsToWasm","enableSlices","_pushEnableSlicesToWasm","timeOffset","timeExtent","useViewTime","_updateLayerTimeProperties","_pushAnalysisSliceToWasm","slice","plane","catch","addResolvingPromise","destroy","remove","isUpdating","updatingFlagChanged","notifyChange","usedMemory","unloadedMemory","performanceInfo","g","visibleAtCurrentScale","T","effectiveScaleRange","scale","whenGraphicBounds","attributes","m","JSON","parse","renderSpatialReference","WGS84","Promise","resolve","boundingBox","screenSpaceObjects","reject","whenGraphicAttributes","_isValidVoxelGraphic","getOtherFieldPopupValues","V","setUsedMemory","captureFrustum","toggleFullVolumeExtentDraw","getLayerTimes","_e$getLayerTimes","getCurrentLayerTimeIndex","_e$getCurrentLayerTim","dropQueryRenderTarget","_dbg","setRenderMode","setStaticSections","setCurrentVariable","setVariableStyles","_accountForEnableSlices","slices","enabled","setVolumeStyles","origin","basis1","basis2","setAnalysisSlice","h","updateLayerTimeProperties","setEnableDynamicSections","setEnableIsosurfaces","setEnableSections","getLogger","error","warn","Boolean","readOnly","M","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","associatedLayer","Map","_e$s$getObjectId","set","getObjectId","concat","sort","_e$getObjectId","_u$get","_t$getObjectId","_u$get2","get","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","AbortController","signal","abort","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","_updatingHandles","parent","when","name","_this$layer","id","title","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","updating","_this$_updatingHandle","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentTimeExtent","_this$layer5","visibilityTimeExtent","intersection","isEmpty","_this$layer6","_this$view","loaded","ready","_this$parent2","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}