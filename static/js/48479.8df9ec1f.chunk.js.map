{"version":3,"file":"static/js/48479.8df9ec1f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementControllerControlPoints.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementControllerShape.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/mediaElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementManipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatedObject3DMediaElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{isSome as o}from\"../../../../../core/arrayUtils.js\";import{destroyHandle as r}from\"../../../../../core/handleUtils.js\";import{initial as n}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../../../../core/support/UpdatingHandles.js\";import p from\"../../../../../geometry/Point.js\";import l from\"../../../../../geometry/Polygon.js\";import{initializeProjection as c,project as m}from\"../../../../../geometry/projectionUtils.js\";import{ControlPointOperations as d}from\"./ControlPointOperations.js\";import{EditGeometry as h}from\"../../../../interactive/editGeometry/EditGeometry.js\";let g=class extends t{get operations(){return this._operations}get updating(){return this._updatingHandles.updating}constructor(e){super(e),this._updatingHandles=new a}initialize(){this.addHandles([r(this._updatingHandles),this._updatingHandles.add((()=>{const e=this.element.georeference;return\"control-points\"===e?.type?e.controlPoints:null}),(e=>this._elementControlPointsChanged(e)),n)])}_elementControlPointsChanged(e){const t=e?.map((({mapPoint:e})=>e)).filter(o),r=this.view.spatialReference;this._updatingHandles.addPromise(this._whenProjected(t,r,(e=>{if(!e)return void this._replaceOperations(null);const{_operations:t}=this,o=e.map((({x:e,y:t})=>[e,t]));o.push(o[0].slice());const n=new l({rings:[o],spatialReference:r});if(t?.trySetGeometry(n))return void this.onModifiedExternally();const i=this.view.state.viewingMode;this._replaceOperations(new d(h.fromGeometry(n,i),i,(e=>this._operationsGeometryChanged(e))))})))}_operationsGeometryChanged(e){const{element:{georeference:t},_operations:r}=this;if(!r||!t||\"control-points\"!==t.type||!t.controlPoints)return;const n=r.data.geometry,i=t.controlPoints.map((({mapPoint:e})=>e)).filter(o),s=r.data.components[0].isClosed()?1:0;if(n.rings[0]?.length-s!==i.length)return;const a=n.rings[0].map((([e,t])=>new p({x:e,y:t,spatialReference:n.spatialReference})));a.length-=s;const l=i.map((({spatialReference:e})=>e));this._updatingHandles.addPromise(this._whenProjected(a,l,(t=>this._updateElementControlPoints(t,e))))}_updateElementControlPoints(e,t){const{georeference:o}=this.element;if(!o||!e||\"control-points\"!==o.type||o.controlPoints?.length!==e?.length)return;const r=o.controlPoints;if(r?.length===e.length)for(let n=0;n<r.length;n++)t&&(r[n].sourcePoint=o.toSource(e[n])),r[n].mapPoint=e[n]}async _whenProjected(e,t,o){if(!e)return void o(e);const{_operations:r,element:{georeference:n}}=this,i=e.map((({spatialReference:e})=>e)),s=Array.isArray(t)?t:new Array(i.length).fill(t);await c(Array.from(i).map(((e,t)=>({source:e,dest:s[t]}))));const a=e.map(((e,t)=>m(e,s[t])));r===this._operations&&n===this.element.georeference&&o(a)}_replaceOperations(e){this._operations&&(this.removeHandles(this._operations),this._operations.destroy()),this._operations=e}};e([i({constructOnly:!0})],g.prototype,\"view\",void 0),e([i({constructOnly:!0})],g.prototype,\"layer\",void 0),e([i({constructOnly:!0})],g.prototype,\"element\",void 0),e([i({constructOnly:!0})],g.prototype,\"onModifiedExternally\",void 0),e([i()],g.prototype,\"_operations\",void 0),e([i()],g.prototype,\"operations\",null),e([i()],g.prototype,\"updating\",null),g=e([s(\"esri.views.3d.interactive.editingTools.media.MediaElementControllerControlPoints\")],g);export{g as MediaElementControllerControlPoints};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../../core/handleUtils.js\";import{initial as r}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as n}from\"../../../../../core/support/UpdatingHandles.js\";import{projectWithZConversion as a}from\"../../../../../geometry/projectionUtils.js\";import{EditGeometryOperations as d}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";let p=class extends t{get operations(){return this._operations}get updating(){return this._updatingHandles.updating}constructor(e){super(e),this._updatingHandles=new n}initialize(){this.addHandles([o(this._updatingHandles),this._updatingHandles.add((()=>this.element.georeference?.coords),(e=>this._elementCoordinatesChanged(e)),r)])}_elementCoordinatesChanged(e){this._updatedElementCoordinates!==e&&this._updatingHandles.addPromise(this._whenProjected(e,this.view.spatialReference,(e=>{if(!e)return void this._replaceOperations(null);const{_operations:t}=this;t?.trySetGeometry(e)?this.onModifiedExternally():this._replaceOperations(d.fromGeometry(e,this.view.state.viewingMode))})))}_operationsGeometryChanged(){const{element:{georeference:e},_operations:t}=this;if(!t||!e)return;const o=t.data.geometry;if(!e.coords)return void this._updateElementCoordinates(o);const r=e.coords.spatialReference;this._updatingHandles.addPromise(this._whenProjected(o,r,(e=>this._updateElementCoordinates(e))))}_updateElementCoordinates(e){const{georeference:t}=this.element;t&&(t.coords=e,this._updatedElementCoordinates=t.coords)}async _whenProjected(e,t,o){if(!e)return void o(e);const{_operations:r,element:{georeference:i}}=this,s=await a(e,t);r===this._operations&&i===this.element.georeference&&o(s)}_replaceOperations(e){this._operations&&(this.removeHandles(this._operations),this._operations.destroy()),this._operations=e,e&&this.addHandles(e.data.on(\"change\",(()=>this._operationsGeometryChanged())),e),this.onModifiedExternally()}};e([i({constructOnly:!0})],p.prototype,\"view\",void 0),e([i({constructOnly:!0})],p.prototype,\"layer\",void 0),e([i({constructOnly:!0})],p.prototype,\"element\",void 0),e([i({constructOnly:!0})],p.prototype,\"onModifiedExternally\",void 0),e([i()],p.prototype,\"_operations\",void 0),e([i()],p.prototype,\"operations\",null),e([i()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.interactive.editingTools.media.MediaElementControllerShape\")],p);export{p as MediaElementControllerShape};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../layers/support/ImageElement.js\";import n from\"../../../../../layers/support/VideoElement.js\";function r(e,n,r){return t(e.allLayerViews.find((e=>e.layer===n)),r)}function t(r,t){if(!r||\"media-3d\"!==r.type||r.suspended)return!1;const s=r.layer.source;return!!s&&(s instanceof e||s instanceof n?s===t:\"hasElement\"in s&&s.hasElement(t))}export{t as isMediaElementVisibleLayerView,r as isMediaElementVisibleView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import o from\"../../../../../core/Evented.js\";import{watch as r,sync as s}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{j as c}from\"../../../../../chunks/vec32.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPointToVector as a}from\"../../../../../geometry/projection/projectPointToVector.js\";import{isMediaElementVisibleView as p}from\"./mediaElementUtils.js\";let m=class extends t{grabbableForEvent(){return!0}constructor(e){super(e),this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.grabbing=!1,this.dragging=!1,this.hovering=!0,this.selected=!1,this.cursor=null,this.consumesClicks=!0,this.events=new o.EventEmitter,this.addHandles(r((()=>this.selected),(e=>this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"})),s))}destroy(){this._set(\"view\",null)}intersectionDistance(e){const{view:t,layer:o,element:r}=this;if(!p(t,o,r))return null;const s=t.toMap(e,{include:{layer:o,element:r}});return s&&a(s,d,t.renderSpatialReference)?c(d,t.state.camera.eye):null}onElevationChange(){}onViewChange(){}};e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"element\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"layer\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"view\",void 0),e([i()],m.prototype,\"interactive\",void 0),e([i()],m.prototype,\"selectable\",void 0),e([i()],m.prototype,\"grabbable\",void 0),e([i()],m.prototype,\"grabbing\",void 0),e([i()],m.prototype,\"dragging\",void 0),e([i()],m.prototype,\"hovering\",void 0),e([i()],m.prototype,\"selected\",void 0),e([i()],m.prototype,\"cursor\",void 0),m=e([n(\"esri.views.3d.interactive.editingTools.media.MediaElementManipulator3D\")],m);const d=l();export{m as MediaElementManipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Evented.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import{watch as r,on as i,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{MediaElementControllerControlPoints as a}from\"./media/MediaElementControllerControlPoints.js\";import{MediaElementControllerShape as p}from\"./media/MediaElementControllerShape.js\";import{MediaElementManipulator3D as m}from\"./media/MediaElementManipulator3D.js\";import{isMediaElementVisibleLayerView as c}from\"./media/mediaElementUtils.js\";const d=Symbol();let u=class extends t.EventedAccessor{get operations(){return this._controller?.operations}get elevationInfo(){return{mode:\"on-the-ground\",offset:0}}get _layerView(){const e=this.view.allLayerViews.find((e=>e.layer===this.layer));return\"media-3d\"===e?.type?e:null}get visible(){return c(this._layerView,this.element)}get isDraped(){return!0}get origin(){return null}get updating(){return!!this._controller?.updating}get _controllerClass(){return\"transform\"===this.tool||\"control-points\"!==this.element.georeference?.type?p:a}constructor(e){super(e),this.tool=\"transform\"}initialize(){this.addHandles([r((()=>this._controllerClass),(e=>this._updateController(e)),l),i((()=>this._layerView),\"element-render-changed\",(({element:e})=>{this.element===e&&this.emit(\"committed\")}))])}toMap(e){const{layer:t,element:o}=this;return this.view.toMap(e,{include:{layer:t,element:o}})}createManipulator(e){const{view:t,layer:o,element:r}=this;return new m({view:t,layer:o,element:r,...e})}_updateController(e){if(this._controller&&this._controller instanceof e)return;this.removeHandles(d);const{view:t,layer:r,element:i}=this,l=()=>{this.emit(\"modified-externally\")};this._controller=new e({view:t,layer:r,element:i,onModifiedExternally:l}),l(),this.addHandles(o(this._controller),d)}};e([n({constructOnly:!0})],u.prototype,\"view\",void 0),e([n({constructOnly:!0})],u.prototype,\"layer\",void 0),e([n({constructOnly:!0})],u.prototype,\"element\",void 0),e([n()],u.prototype,\"tool\",void 0),e([n()],u.prototype,\"_controller\",void 0),e([n()],u.prototype,\"elevationInfo\",null),e([n()],u.prototype,\"_layerView\",null),e([n()],u.prototype,\"visible\",null),e([n()],u.prototype,\"updating\",null),e([n()],u.prototype,\"_controllerClass\",null),u=e([s(\"esri.views.3d.interactive.editingTools.ManipulatedObject3DMediaElement\")],u);export{u as ManipulatedObject3DMediaElement};\n"],"names":["g","t","operations","this","_operations","updating","_updatingHandles","constructor","e","super","a","initialize","addHandles","r","add","element","georeference","type","controlPoints","_elementControlPointsChanged","n","map","_ref","mapPoint","filter","o","view","spatialReference","addPromise","_whenProjected","_replaceOperations","_ref2","x","y","push","slice","l","rings","trySetGeometry","onModifiedExternally","i","state","viewingMode","d","h","fromGeometry","_operationsGeometryChanged","_n$rings$","data","geometry","_ref3","s","components","isClosed","length","_ref4","p","_ref5","_updateElementControlPoints","_o$controlPoints","sourcePoint","toSource","_ref6","Array","isArray","fill","c","from","source","dest","m","removeHandles","destroy","constructOnly","prototype","_this$element$georefe","coords","_elementCoordinatesChanged","_updatedElementCoordinates","_updateElementCoordinates","on","allLayerViews","find","layer","suspended","hasElement","grabbableForEvent","interactive","selectable","grabbable","grabbing","dragging","hovering","selected","cursor","consumesClicks","events","EventEmitter","emit","action","_set","intersectionDistance","toMap","include","renderSpatialReference","camera","eye","onElevationChange","onViewChange","nonNullable","Symbol","u","EventedAccessor","_this$_controller","_controller","elevationInfo","mode","offset","_layerView","visible","isDraped","origin","_this$_controller2","_controllerClass","tool","_updateController","createManipulator","_objectSpread"],"sourceRoot":""}