{"version":3,"file":"static/js/53046.ff3ab3d5.chunk.js","mappings":"4ZAI+4C,MAAMA,EAAE,GAAGC,KAAKC,GAAGC,EAAEH,EAAEC,KAAKC,GAAG,IAAI,MAAME,EAAEC,WAAAA,CAAYC,GAAGC,KAAKC,QAAQ,IAAIC,MAAM,GAAGF,KAAKG,QAAQ,IAAID,MAAM,GAAGF,KAAKI,SAAS,EAAEJ,KAAKK,QAAQ,CAACC,QAAOC,EAAAA,EAAAA,MAAIC,WAAUD,EAAAA,EAAAA,OAAKP,KAAKS,oBAAoBV,EAAEW,mBAAmB,IAAI,IAAIC,EAAE,EAAEA,EAAE,EAAEA,IAAIX,KAAKC,QAAQU,GAAG,CAACL,QAAOC,EAAAA,EAAAA,MAAIC,WAAUD,EAAAA,EAAAA,MAAIK,IAAI,CAACC,KAAK,KAAKL,WAAUD,EAAAA,EAAAA,QAAMP,KAAKG,QAAQQ,IAAGG,EAAAA,EAAAA,MAAId,KAAKG,QAAQY,EAAAA,GAAEC,OAAMF,EAAAA,EAAAA,MAAId,KAAKG,QAAQY,EAAAA,GAAEE,MAAKH,EAAAA,EAAAA,MAAId,KAAKkB,kBAAkBlB,KAAKG,QAAQgB,MAAM,EAAE,EAAE,CAACC,MAAAA,CAAOrB,EAAEY,EAAEU,GAAO,IAALC,IAACC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAAK,MAAMG,EAAE1B,KAAKC,QAAQD,KAAK2B,wBAAwB5B,EAAEY,EAAEU,IAAGO,EAAAA,EAAAA,GAAE5B,KAAKK,QAAQC,OAAOoB,EAAE,GAAGpB,OAAOoB,EAAE,GAAGpB,SAAQuB,EAAAA,EAAAA,GAAE7B,KAAKK,QAAQC,OAAON,KAAKK,QAAQC,OAAO,IAAIN,KAAKS,oBAAoBqB,kBAAkB9B,KAAKK,QAAQC,OAAON,KAAKK,QAAQG,WAAWc,IAAGO,EAAAA,EAAAA,GAAE7B,KAAKK,QAAQG,UAAUR,KAAKK,QAAQG,WAAW,GAAG,IAAI,IAAIoB,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAM7B,EAAE2B,EAAEE,GAAG5B,KAAKS,oBAAoBqB,kBAAkB/B,EAAEO,OAAOP,EAAES,WAAW,MAAMG,EAAEe,EAAE,IAAIE,EAAE,EAAEA,EAAE,GAAG7B,EAAEa,IAAIC,KAAKF,EAAEL,QAAOyB,EAAAA,EAAAA,GAAEhC,EAAEa,IAAIJ,UAAUT,EAAEO,OAAOK,EAAEL,SAAQ0B,EAAAA,EAAAA,IAAEjC,EAAES,UAAUT,EAAEa,IAAIJ,UAAUT,EAAEO,OAAON,KAAKG,QAAQyB,IAAIN,IAAGO,EAAAA,EAAAA,GAAE9B,EAAES,UAAUT,EAAES,WAAW,EAAE,EAACwB,EAAAA,EAAAA,IAAEN,EAAE,GAAGd,IAAIJ,UAAUkB,EAAE,GAAGd,IAAIJ,UAAUkB,EAAE,GAAGpB,OAAON,KAAKG,QAAQY,EAAAA,GAAEC,OAAOM,GAAEW,EAAAA,EAAAA,IAAEjC,KAAKG,QAAQY,EAAAA,GAAEC,MAAMhB,KAAKG,QAAQY,EAAAA,GAAEE,QAAOiB,EAAAA,EAAAA,GAAElC,KAAKG,QAAQY,EAAAA,GAAEE,KAAKjB,KAAKG,QAAQY,EAAAA,GAAEC,QAAOiB,EAAAA,EAAAA,IAAEjC,KAAKG,QAAQY,EAAAA,GAAEC,MAAMhB,KAAKG,QAAQY,EAAAA,GAAEC,QAAQhB,KAAKI,SAASV,KAAKyC,IAAIzC,KAAK0C,IAAIrC,EAAE,GAAGA,EAAE,IAAIL,KAAK0C,IAAIrC,EAAE,GAAGA,EAAE,KAAKC,KAAKqC,yBAAyB1B,EAAEX,KAAKsC,mBAAmB,IAAGC,EAAAA,EAAAA,IAAEvC,KAAKqC,0BAA0BG,MAAM,CAACC,kBAAAA,CAAmB1C,EAAEY,GAAO,IAALU,EAACE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAK,GAAG,MAAMxB,EAAE,OAAM,EAAG,GAAGC,KAAKS,oBAAoBiC,cAAcC,EAAAA,GAAEC,OAAO,CAAC,MAAMvB,EAAErB,KAAKqC,yBAAyBQ,aAAajD,EAAEH,EAAEkB,EAAE,GAAGX,KAAKI,SAASiB,EAAE,OAAM,EAAG,GAAG,MAAMtB,EAAE+C,UAAU/C,EAAE+C,UAAU9C,KAAKsC,mBAAmB,OAAOtC,KAAK+C,0BAA0BhD,EAAE,CAAC,GAAG,IAAIC,KAAKI,SAAS,CAAC,MAAMO,EAAEX,KAAKC,QAAQ,GAAG,QAAQoB,IAAItB,EAAEiD,eAAcC,EAAAA,EAAAA,IAAEtC,EAAEL,OAAOK,EAAEH,YAAY,CAAC,IAAI,IAAIoB,EAAE,EAAEA,EAAE5B,KAAKC,QAAQuB,OAAOI,IAAI,CAAC,MAAMjB,EAAEX,KAAKC,QAAQ2B,GAAG,IAAIP,GAAGtB,EAAEiD,eAAcC,EAAAA,EAAAA,IAAEtC,EAAEL,OAAOK,EAAEH,YAAY,OAAM,EAAG,GAAGT,EAAEmD,uBAAsBC,EAAAA,EAAAA,IAAExC,EAAEL,OAAOK,EAAEC,IAAIC,KAAKuC,GAAGzC,EAAEC,IAAIJ,WAAW,OAAM,CAAE,CAAC,MAAMc,EAAED,EAAErB,KAAKG,QAAQH,KAAKkB,kBAAkB,IAAI,IAAIU,EAAE,EAAEA,EAAE7B,EAAEsD,MAAM7B,OAAOI,IAAI,CAAC,MAAMjB,EAAEZ,EAAEsD,MAAMzB,GAAG,IAAG0B,EAAAA,EAAAA,IAAEhC,EAAEX,EAAEL,OAAOK,EAAE4C,SAAS5C,EAAEH,WAAW,OAAM,CAAE,CAAC,OAAM,CAAE,CAACgD,6BAAAA,CAA8BzD,EAAEuB,EAAEM,IAAa6B,EAAAA,EAAAA,IAAE1D,EAAE2D,GAAGA,EAAE,GAAG9B,GAAE+B,EAAAA,EAAAA,GAAErC,EAAEoC,EAAEE,EAAE5D,KAAKS,oBAAoBoD,mBAAkBxC,EAAAA,EAAAA,IAAEyC,EAAEF,IAAGG,EAAAA,EAAAA,IAAEC,GAAG,IAAI,MAAMC,GAAG5C,EAAE6C,GAAGnC,EAAEoC,GAAGC,EAAEC,GAAGC,KAAKC,EAAE,IAAI,IAAIhE,EAAE,EAAEA,EAA9H,EAAkIA,IAAI,CAAC,MAAMgC,EAAEhC,EAAC,EAAOmD,EAAE,IAAG/C,EAAAA,EAAAA,IAAEZ,EAAEsB,GAAGtB,EAAEgC,GAAGQ,GAAGmB,EAAE,IAAG/C,EAAAA,EAAAA,IAAEZ,EAAEqE,GAAGrE,EAAEuE,GAAG/B,GAAGmB,EAAE,GAAG9B,GAAE4C,EAAAA,EAAAA,GAAEd,EAAEpC,EAAEoC,EAAE1D,KAAKS,oBAAoBoD,mBAAkBnC,EAAAA,EAAAA,GAAEgC,EAAEA,EAAEI,IAAGW,EAAAA,EAAAA,IAAET,EAAEN,EAAE,EAACU,EAAAA,EAAAA,GAAEpE,KAAKC,QAAQ,GAAGK,OAAO0D,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAII,EAAAA,EAAAA,GAAEpE,KAAKC,QAAQ,GAAGK,OAAO0D,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAII,EAAAA,EAAAA,GAAEpE,KAAKC,QAAQ,GAAGK,OAAO0D,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAII,EAAAA,EAAAA,GAAEpE,KAAKC,QAAQ,GAAGK,OAAO0D,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,IAAI,IAAIrD,EAAE,EAAEA,EAAE,IAAIA,GAAEe,EAAAA,EAAAA,GAAE1B,KAAKC,QAAQU,GAAGL,OAAON,KAAKC,QAAQU,GAAGL,OAAOsD,EAAE,CAACc,4BAAAA,CAA6B3E,EAAEY,EAAEU,IAAGsD,EAAAA,EAAAA,GAAE5E,EAAEY,EAAEiE,EAAE5E,KAAKS,oBAAoBoD,mBAAkBO,EAAAA,EAAAA,GAAEpE,KAAKC,QAAQ,GAAGK,OAAOsE,EAAE,GAAGA,EAAE,GAAGvD,IAAG+C,EAAAA,EAAAA,GAAEpE,KAAKC,QAAQ,GAAGK,OAAOsE,EAAE,GAAGA,EAAE,GAAGvD,IAAG+C,EAAAA,EAAAA,GAAEpE,KAAKC,QAAQ,GAAGK,OAAOsE,EAAE,GAAGA,EAAE,GAAGvD,IAAG+C,EAAAA,EAAAA,GAAEpE,KAAKC,QAAQ,GAAGK,OAAOsE,EAAE,GAAGA,EAAE,GAAGvD,EAAE,CAACM,uBAAAA,CAAwBhB,EAAEU,EAAEC,GAAG,OAAOtB,KAAKS,oBAAoBiC,aAAa,KAAKC,EAAAA,GAAEC,OAAO5C,KAAKwD,8BAA8B7C,EAAEU,EAAEC,GAAG,MAAM,KAAKqB,EAAAA,GAAEkC,MAAM7E,KAAK0E,6BAA6B/D,EAAEU,EAAEC,GAAG,MAAM,SAAQvB,EAAAA,EAAAA,IAAEC,KAAKS,oBAAoBiC,aAAa,CAACK,yBAAAA,CAA0BhD,GAAG,IAAG+E,EAAAA,EAAAA,IAAE/E,EAAEgF,OAAOhE,EAAAA,GAAEC,MAAMhB,KAAKK,QAAQC,QAAQ,IAAGgE,EAAAA,EAAAA,GAAEtE,KAAKK,QAAQG,UAAUT,EAAES,WAAW,EAAE,OAAM,EAAG,IAAI,IAAIG,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAMU,EAAErB,KAAKC,QAAQU,GAAG,IAAGmE,EAAAA,EAAAA,IAAE/E,EAAEgF,OAAOhE,EAAAA,GAAEC,MAAMK,EAAEf,QAAQ,IAAGgE,EAAAA,EAAAA,GAAEjD,EAAEb,UAAUT,EAAES,WAAW,EAAE,OAAM,CAAE,CAAC,OAAM,CAAE,EAAE,MAAM+D,EAAE,CAAC,CAACN,GAAG,EAAEE,GAAG,EAAED,GAAG,EAAEG,GAAG,GAAG,CAACJ,GAAG,EAAEE,GAAG,EAAED,GAAG,EAAEG,GAAG,GAAG,CAACJ,GAAG,EAAEE,GAAG,EAAED,GAAG,EAAEG,GAAG,GAAG,CAACJ,GAAG,EAAEE,GAAG,EAAED,GAAG,EAAEG,GAAG,IAAIX,GAAEnD,EAAAA,EAAAA,MAAIqD,GAAEtC,EAAAA,EAAAA,MAAIwC,GAAExC,EAAAA,EAAAA,MAAI0C,GAAEgB,EAAAA,EAAAA,MAAIJ,GAAEK,EAAAA,EAAAA,MAAI7B,GAAE8B,EAAAA,EAAAA,M,0BCApnI,IAAIT,EAAE,cAAc1E,EAAAA,EAAED,WAAAA,CAAYa,GAAGwE,MAAMxE,GAAGX,KAAKoF,WAAU,EAAGpF,KAAKC,QAAQ,KAAKD,KAAKqF,0BAAyB,EAAGrF,KAAKsF,gCAA+B,EAAGtF,KAAKuF,kBAAkB,KAAKvF,KAAKwF,UAAS,CAAE,CAACC,UAAAA,GAAa,MAAMF,kBAAkB5E,GAAGX,KAAKA,KAAK0F,oBAAoB,IAAInF,EAAE,CAACG,mBAAmBC,EAAEgF,KAAKjF,qBAAqB,MAAMX,EAAEY,EAAEgF,KAAK/D,EAAE7B,EAAE6F,eAAe/D,EAAE9B,EAAE8F,mBAAmBC,UAAU9F,KAAK+F,WAAW,CAAChG,EAAEiG,GAAG,SAAU,IAAIhG,KAAKiG,gBAAgBlE,EAAAA,EAAAA,IAAG,IAAIhC,EAAEmG,MAAMC,OAAS,IAAInG,KAAKiG,cAAe5E,EAAAA,IAAGQ,EAAEuE,aAAahC,EAAAA,GAAEiC,mBAAmBrG,OAAM+B,EAAAA,EAAAA,IAAG,IAAIH,EAAE0E,uBAAyB,IAAItG,KAAKuG,4BAA6B,UAAUxG,EAAE2C,YAAY1C,KAAKwG,wBAAuB,EAAGxG,KAAK+F,WAAW,EAAChE,EAAAA,EAAAA,IAAG,SAAA0E,EAAA,MAAI,CAAC7E,EAAE8E,YAAY9E,EAAE+E,UAAe,QAANF,EAAC1G,EAAE6G,WAAG,IAAAH,GAAQ,QAARA,EAALA,EAAOI,cAAM,IAAAJ,GAAsB,QAAtBA,EAAbA,EAAeK,4BAAoB,IAAAL,OAAA,EAAnCA,EAAqCM,OAAQ,IAAI/G,KAAKgH,+BAAgC1F,EAAAA,KAAI,CAAC2F,OAAAA,GAAUjH,KAAKkH,KAAK,oBAAoB,MAAMlH,KAAKC,QAAQ,KAAKD,KAAK0F,oBAAoB,IAAI,CAACyB,SAAAA,GAAYnH,KAAKwF,UAAUxF,KAAKkH,KAAK,YAAW,EAAG,CAACE,SAAAA,CAAUzG,GAAGX,KAAKC,QAAQU,EAAEX,KAAKqF,0BAAyB,EAAGrF,KAAKmH,WAAW,CAAClB,WAAAA,GAAcjG,KAAKmH,WAAW,CAACZ,sBAAAA,GAAyBvG,KAAKmH,YAAYnH,KAAKqF,0BAAyB,CAAE,CAAC,0BAAImB,CAAuB7F,GAAGX,KAAKsF,+BAA+B3E,EAAEX,KAAKmH,YAAYnH,KAAKqF,0BAAyB,CAAE,CAAC2B,4BAAAA,GAA8B,IAAAK,EAAC,MAAM1G,EAAEX,KAAKuF,kBAAkBI,KAAK5F,EAAEY,EAAEiF,eAAe7D,EAAE,UAAUpB,EAAE+B,YAAYrB,EAAE,UAAqB,QAAfgG,EAAG1G,EAAEiG,IAAIC,cAAM,IAAAQ,GAAsB,QAAtBA,EAAZA,EAAcP,4BAAoB,IAAAO,OAAA,EAAlCA,EAAoCN,MAAK/G,KAAKwG,uBAAuBzE,IAAIhC,EAAEuH,QAAQjG,CAAC,CAACkG,yBAAAA,GAA4B,IAAIvH,KAAKqF,yBAAyB,OAAOrF,KAAKqF,0BAAyB,EAAG,MAAM1E,EAAEX,KAAKuF,kBAAkBI,KAAK,IAAI5F,EAAE,GAAGC,KAAKsF,+BAA+BvF,GAAG,IAAG2B,EAAAA,EAAAA,IAAEf,EAAEkD,kBAAkBrB,WAAW,CAAC,MAAMgF,IAAIzF,EAAEI,IAAId,GAAGV,EAAEiF,eAAeU,uBAAuBvG,EAAEgC,EAAErC,KAAKyC,IAAI,GAAGd,EAAEU,IAAzuD,IAA+uD,GAAG,CAAC/B,KAAK0F,oBAAoBtE,OAAOpB,KAAKC,QAAQU,EAAEkD,iBAAiB9D,EAAE,CAAC,WAAI0H,GAAU,OAAOzH,KAAKwF,QAAQ,CAACkC,OAAAA,CAAQ/G,GAAG,GAAGX,KAAKkH,KAAK,YAAW,IAAKlH,KAAKC,QAAQ,OAAOD,KAAKkH,KAAK,aAAY,GAAI5C,EAAAA,EAAEtE,KAAKuH,4BAA4B,MAAMxH,EAAEC,KAAKuF,kBAAkBI,KAAKgC,QAAQ5F,GAAEL,EAAAA,EAAAA,IAAE1B,KAAKuF,kBAAkBI,KAAK9B,kBAAkBrB,OAAOxC,KAAKkH,KAAK,aAAalH,KAAK0F,oBAAoBjD,mBAAmB1C,EAAEgC,IAAIpB,EAAEiH,cAAc,IAAGjH,EAAAA,EAAAA,GAAE,EAACiB,EAAAA,EAAAA,IAAE,CAACiG,UAAS,KAAMpD,EAAEqD,UAAU,iBAAY,IAAQnH,EAAAA,EAAAA,GAAE,EAACiB,EAAAA,EAAAA,IAAE,CAACmG,eAAc,KAAMtD,EAAEqD,UAAU,yBAAoB,IAAQnH,EAAAA,EAAAA,GAAE,EAACiB,EAAAA,EAAAA,IAAE,CAACiG,UAAS,KAAMpD,EAAEqD,UAAU,gBAAW,GAAQrD,GAAE9D,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,GAAE,8DAA8D4C,E,uKCA99E,IAAIlE,EAAE,cAAcI,EAAAA,EAAEb,WAAAA,CAAYC,GAAGoF,MAAMpF,GAAGC,KAAKgI,cAAc,IAAIpG,EAAAA,EAAE5B,KAAKiI,cAAa,EAAGjI,KAAKkI,yBAAyB,EAAElI,KAAKmI,kBAAkB,IAAIC,IAAIpI,KAAKqI,kBAAiB,EAAGrI,KAAKuF,kBAAkB,KAAKvF,KAAKsI,aAAa,KAAKtI,KAAKuI,OAAO,IAAIlH,EAAAA,CAAC,CAACoE,UAAAA,GAAY,IAAA+C,EAAC,MAAMzI,EAAEC,KAAKyI,kBAAkB9H,EAAEX,KAAKuF,kBAAkBI,KAAKE,mBAAmBC,UAAU9F,KAAK0I,MAAM/H,EAAEyF,aAAazC,EAAuC,QAAtC6E,EAACxI,KAAKsI,aAAaK,MAAMC,qBAAa,IAAAJ,OAAA,EAArCA,EAAuCK,MAAM7I,MAAMA,KAAK+F,WAAW,CAAChG,EAAEiG,GAAG,mBAAoBjG,GAAGC,KAAK8I,kBAAkB/I,KAAKuB,EAAAA,EAAAA,IAAG,IAAItB,KAAKuF,kBAAkBH,UAAY,IAAIpF,KAAK+I,oBAAqB/I,KAAK0I,OAAMpH,EAAAA,EAAAA,IAAG,SAAA0H,EAAA,OAAIrF,EAAuC,QAAtCqF,EAAChJ,KAAKsI,aAAaK,MAAMC,qBAAa,IAAAI,OAAA,EAArCA,EAAuCH,OAAQ9I,GAAGC,KAAK0I,MAAMO,SAASlJ,IAAK,CAACkH,OAAAA,GAAUjH,KAAKmI,kBAAkBe,QAAQlJ,KAAKuF,kBAAkB,KAAKvF,KAAKsI,aAAa,KAAKtI,KAAKmJ,yBAAyB,KAAKnJ,KAAKyI,kBAAkB,IAAI,CAACS,KAAAA,GAAQlJ,KAAKmI,kBAAkBe,QAAQlJ,KAAKoJ,aAAa,WAAW,CAACL,gBAAAA,IAAmB,IAAK/I,KAAKuF,kBAAkBH,UAAUpF,KAAKqI,kBAAiB,GAAG,IAAKrI,KAAKuF,kBAAkBH,WAAWpF,KAAKqI,mBAAmBrI,KAAKiI,cAAa,EAAGjI,KAAKoJ,aAAa,YAAY,CAACC,mBAAAA,GAAsBrJ,KAAKiI,cAAa,EAAGjI,KAAKoJ,aAAa,WAAW,CAAC,YAAI5D,GAAW,OAAOxF,KAAKyH,OAAO,CAAC,WAAIA,GAAU,OAAOzH,KAAKmI,kBAAkBmB,KAAK,GAAGtJ,KAAKgI,gBAAgBhI,KAAKgI,cAAcuB,OAAOvJ,KAAKiI,YAAY,CAAC,qBAAIuB,GAAoB,OAAOxJ,KAAKmI,kBAAkBmB,KAAKtJ,KAAKgI,cAAcsB,KAAKtJ,KAAKkI,wBAAwB,CAACR,OAAAA,CAAQ3H,GAAG,IAAIC,KAAKiI,eAAejI,KAAKyJ,iCAAiCzJ,KAAKiI,cAAa,EAAGlI,EAAE6H,gBAAgB7H,EAAE2J,IAAK,IAAI1J,KAAKgI,cAAc2B,MAAM5J,IAAKC,KAAKyH,UAAU1H,EAAE6J,MAAM5J,KAAK6J,qBAAqB9J,GAAGC,KAAK8J,oBAAoB/J,GAAGC,KAAKoJ,aAAa,WAAW,CAACS,oBAAAA,CAAqB9J,GAAG,MAAMY,EAAEX,KAAKuF,kBAAkBI,KAAKjF,mBAAmBW,EAAErB,KAAKsI,aAAayB,wBAAwBlI,EAAAA,EAAEmI,MAAM,IAAI,MAAM1I,KAAKtB,KAAKmI,kBAAkB8B,OAAO,KAAAC,EAAC,MAAMnI,EAAE/B,KAAKsI,aAAa6B,yBAAyB7I,GAAG,GAAGtB,KAAKmI,kBAAkBiC,OAAO9I,GAAG,MAAMS,IAAIA,EAAEsI,mBAAmBrK,KAAKyI,kBAAkB9H,EAAEU,GAAiC,QAA/B6I,EAAClK,KAAKsI,aAAagC,oBAAY,IAAAJ,GAA9BA,EAAgCK,WAAWxK,EAAE6H,gBAAgB7H,EAAE6J,KAAK,MAAM,CAAC,CAACE,mBAAAA,CAAoB/J,GAAG,MAAMC,KAAKgI,cAAcuB,QAAQxJ,EAAE6J,MAAM,CAAC,MAAMjJ,EAAEX,KAAKgI,cAAcwC,MAAMnJ,EAAErB,KAAKyI,kBAAkB5E,iBAAiB7D,KAAKuI,OAAOkC,KAAK,uBAAuB,CAACC,OAAO/J,EAAEkD,iBAAiBxC,IAAI,MAAMC,EAAEtB,KAAKmI,kBAAkBmB,KAAKtJ,KAAKmJ,yBAAyBxI,EAAEU,EAAGtB,IAAI,MAAMY,EAAEX,KAAKsI,aAAa6B,yBAAyBpK,GAAG,MAAMY,GAAGA,EAAEgK,yBAAyB3K,KAAKmI,kBAAkByC,IAAI7K,KAAMC,KAAKkI,yBAAyB,IAAIlI,KAAKmI,kBAAkBmB,KAAKhI,GAAG,GAAGtB,KAAKkI,yBAAyBnI,EAAE6H,cAAc,CAAC,CAAC6B,8BAAAA,GAAiCzJ,KAAKgI,cAAckB,QAAQlJ,KAAKmI,kBAAkBe,QAAQlJ,KAAKsI,aAAauC,mBAAmBC,QAAS,CAAC/K,EAAEY,IAAIX,KAAKmI,kBAAkByC,IAAIjK,GAAI,CAACmI,iBAAAA,CAAkB/I,GAAG,GAAG,UAAUA,EAAEgL,WAAW/K,KAAKsI,aAAaK,MAAMC,eAAe,sBAAsB5I,KAAKsI,aAAaK,MAAMC,cAAcC,MAAM,OAAO,MAAMlI,EAAEZ,EAAE2K,OAAO,GAAG1K,KAAKuF,kBAAkBH,UAAU,CAAC,IAAIpF,KAAKqI,iBAAiB,CAAC,MAAMtI,EAAEC,KAAKsI,aAAa0C,eAAejL,GAAGY,EAAE,GAAGZ,EAAEkL,MAAMtK,EAAE,GAAGZ,EAAEmL,MAAMvK,EAAE,GAAGZ,EAAEoL,MAAMxK,EAAE,GAAGZ,EAAEqL,OAAOpL,KAAKqI,kBAAiB,EAAG,CAACrI,KAAKuI,OAAOkC,KAAK,uBAAuB1K,EAAE,MAAMY,EAAE,MAAK,IAAKX,KAAKiI,cAAa,EAAGjI,KAAKgI,cAAc4C,IAAIjK,GAAGX,KAAKoJ,aAAa,WAAW,GAAG,SAASzF,EAAE5D,GAAG,OAAO,MAAMA,EAAEwC,EAAAA,GAAE8I,oBAAoB,sBAAsBtL,EAAEwC,EAAAA,GAAE+I,0BAA0B/I,EAAAA,GAAE8I,mBAAmB,EAACtL,EAAAA,EAAAA,GAAE,EAACgC,EAAAA,EAAAA,OAAKxB,EAAEuH,UAAU,yBAAoB,IAAQ/H,EAAAA,EAAAA,GAAE,EAACgC,EAAAA,EAAAA,OAAKxB,EAAEuH,UAAU,oBAAe,IAAQ/H,EAAAA,EAAAA,GAAE,EAACgC,EAAAA,EAAAA,OAAKxB,EAAEuH,UAAU,gCAA2B,IAAQ/H,EAAAA,EAAAA,GAAE,EAACgC,EAAAA,EAAAA,OAAKxB,EAAEuH,UAAU,yBAAoB,IAAQ/H,EAAAA,EAAAA,GAAE,EAACgC,EAAAA,EAAAA,IAAE,CAAC8F,UAAS,KAAMtH,EAAEuH,UAAU,WAAW,OAAM/H,EAAAA,EAAAA,GAAE,EAACgC,EAAAA,EAAAA,IAAE,CAAC8F,UAAS,KAAMtH,EAAEuH,UAAU,oBAAoB,MAAMvH,GAAER,EAAAA,EAAAA,GAAE,EAAC2B,EAAAA,EAAAA,GAAE,+DAA+DnB,E,oGCAviI,SAASe,EAAEX,EAAEW,GAAE,IAAAiK,EAAC,MAAMjH,EAAzJ,SAAW3D,EAAEZ,GAAG,GAAG,MAAMY,EAAE6K,OAAO,OAAO7K,EAAE6K,OAAO,MAAM3J,EAAG,OAAD9B,QAAC,IAADA,OAAC,EAADA,EAAG0L,SAAS,OAAO,MAAM5J,GAAG,gBAAgBA,EAAEkF,KAAKlF,EAAE6J,UAAU/K,EAAEZ,GAAG,IAAI,CAAyBsB,CAAEV,EAAEW,GAAG,GAAG,MAAMgD,EAAE,OAAO,KAAK,MAAM1C,EAAG,OAADN,QAAC,IAADA,OAAC,EAADA,EAAGmK,SAAS/J,EAAE,IAAI3B,EAAAA,EAAE6B,EAAE0C,GAAG,GAAG,MAAM1C,KAAK,oBAAoBA,KAAKA,EAAE+J,gBAAgB,OAAOjK,EAAE,MAAMK,EAAU,QAATwJ,GAAC1J,EAAAA,EAAAA,yBAAED,EAAEjB,EAAEW,UAAE,IAAAiK,EAAAA,EAAE,GAAG9G,EAAE,CAAC,eAAe,eAAe,gBAAgB,IAAI,MAAMmH,SAAS7L,EAAE8L,MAAMhK,KAAKE,EAAE,GAAG,MAAMF,GAAG,SAAS9B,EAAEgH,MAAMhH,EAAE+L,eAAe,OAAO/L,EAAEgH,MAAM,IAAI,QAAQrF,EAAEqK,MAAO,OAADlK,QAAC,IAADA,OAAC,EAADA,EAAGmK,SAAS,MAAM,IAAI,OAAO,GAAG,YAAYjM,EAAEkM,OAAOvK,EAAEwK,YAAYrK,MAAM,CAAC,MAAMlB,EAAEZ,EAAEoM,KAAK9K,EAAEtB,EAAE+L,eAAe,eAAgB,OAADjK,QAAC,IAADA,EAAAA,EAAG,eAAe,OAAOlB,GAAG,IAAI,QAAQ8D,EAAE,GAAGpD,EAAE,MAAM,IAAI,QAAQoD,EAAE,GAAGpD,EAAE,MAAM,IAAI,SAASoD,EAAE,GAAGpD,EAAE,MAAM,IAAI,kBAAkBoD,EAAE,GAAGA,EAAE,GAAGpD,EAAE,MAAM,QAAQoD,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGpD,EAAE,CAAC,MAAM,IAAI,UAAUK,EAAE0K,QAAQvK,EAAE,MAAM,IAAI,WAAW,OAAO9B,EAAEoM,MAAM,IAAI,OAAOzK,EAAE2K,KAAKxK,EAAE,MAAM,IAAI,OAAOH,EAAE4K,KAAKzK,EAAE,MAAM,QAAQH,EAAE6K,QAAQ1K,GAAG,MAAM,iBAAiB4C,EAAE,IAAI,iBAAiBA,EAAE,IAAI,iBAAiBA,EAAE,KAAK/C,EAAE4H,KAAK7E,GAAG/C,CAAC,CAA6F8K,eAAe5K,EAAEP,EAAEC,GAAE,IAAAmL,EAAC,MAAM7K,QAAxH4K,eAAiB7L,EAAEZ,GAAE,IAAA2M,EAAAC,EAAC,OAAO,MAAMhM,EAAE6K,OAAO7K,EAAE6K,OAAuC,QAAjCkB,EAAE,OAAD3M,QAAC,IAADA,GAAW,QAAV4M,EAAD5M,EAAG0L,gBAAQ,IAAAkB,OAAA,EAAXA,EAAaC,eAAejM,EAAEZ,UAAE,IAAA2M,EAAAA,EAAE,IAAI,CAAqCpI,CAAEjD,EAAEC,GAAG,IAAIM,EAAE,OAAO,KAAK,MAAMF,EAAG,OAADJ,QAAC,IAADA,OAAC,EAADA,EAAGmK,SAAS1J,EAAE,IAAIhC,EAAAA,EAAE2B,EAAEE,GAAG,IAAIF,KAAK,oBAAoBA,KAAKA,EAAEiK,gBAAgB,OAAO5J,EAAE,MAAM0C,EAAU,QAATgI,GAAC5K,EAAAA,EAAAA,yBAAEH,EAAEL,EAAEC,UAAE,IAAAmL,EAAAA,EAAE,GAAGlM,EAAE,CAAC,eAAe,eAAe,gBAAgB,IAAI,MAAMqL,SAAS7L,EAAE8L,MAAMhK,KAAK4C,EAAE,GAAG,UAAU1E,EAAEgH,KAAKhF,EAAEgK,MAAMpL,EAAAA,EAAEkM,WAAWhL,QAAQ,GAAG,SAAS9B,EAAEgH,KAAK,GAAG,YAAYhH,EAAEkM,OAAOlK,EAAEmK,YAAYrK,MAAM,CAAC,MAAMlB,EAAEZ,EAAEoM,KAAK9K,EAAEtB,EAAE+L,eAAe,eAAejK,EAAE,UAAUlB,EAAEJ,EAAE,GAAGc,EAAE,UAAUV,EAAEJ,EAAE,GAAGc,EAAE,WAAWV,EAAEJ,EAAE,GAAGc,EAAEd,EAAE,GAAGA,EAAE,GAAG,oBAAoBI,EAAEU,EAAEd,EAAE,GAAGc,CAAC,KAAK,YAAYtB,EAAEgH,KAAKhF,EAAEqK,QAAQvK,EAAE,aAAa9B,EAAEgH,MAAM,SAAShH,EAAEoM,KAAKpK,EAAEsK,KAAKxK,EAAE,aAAa9B,EAAEgH,MAAM,SAAShH,EAAEoM,KAAKpK,EAAEuK,KAAKzK,EAAE,aAAa9B,EAAEgH,OAAOhF,EAAEwK,QAAQ1K,GAAG,OAAOiL,SAASvM,EAAE,KAAKuM,SAASvM,EAAE,KAAKuM,SAASvM,EAAE,OAAOwB,EAAEuH,KAAK/I,GAAGwB,CAAC,CAAC,SAASL,EAAEf,GAAO,MAAMkB,EAAElB,EAAZY,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,GAAgB,MAAM,iBAAiBM,GAAGiL,SAASjL,GAAGA,EAAE,IAAI,CAAC,SAASE,EAAEpB,GAAG,IAAI,IAAIZ,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAM8B,EAAElB,EAAEZ,GAAG,GAAG,iBAAiB8B,EAAE,OAAOiL,SAASjL,GAAGA,EAAE,CAAC,CAAC,OAAO,CAAC,C,wECArlE,MAAM9B,GAAG,MAAMgC,UAAUhC,EAAED,WAAAA,CAAYa,EAAEZ,GAAGoF,QAAQnF,KAAK+M,cAAcpM,EAAEX,KAAKgN,OAAOjN,CAAC,CAACkN,MAAAA,GAASjN,KAAKgN,OAAOE,cAAclN,KAAK+M,cAAc,EAAE,MAAMlL,UAAU9B,EAAED,WAAAA,CAAYa,EAAEZ,EAAEgC,GAAGoD,QAAQnF,KAAK+M,cAAcpM,EAAEX,KAAKgN,OAAOjN,EAAEC,KAAKmN,MAAMpL,CAAC,CAACkL,MAAAA,GAASjN,KAAKmN,MAAMC,gCAAgCpN,KAAKgN,OAAOhN,KAAK+M,cAAc,EAAE,MAAM3I,UAAUrE,EAAED,WAAAA,CAAYa,EAAEZ,GAAGoF,QAAQnF,KAAK+M,cAAcpM,EAAEX,KAAKqN,gBAAgBtN,EAAEC,KAAKgN,OAAO,IAAI,CAACC,MAAAA,GAASjN,KAAKqN,gBAAgBrN,KAAK+M,cAAc,EAAE,MAAMzL,EAAExB,WAAAA,GAAcE,KAAKsN,OAAO,EAAE,CAACC,SAAAA,CAAU5M,EAAEZ,GAAGC,KAAKsN,OAAOE,KAAK,IAAIzL,EAAEhC,EAAEY,GAAG,CAAC8M,iBAAAA,CAAkB9M,EAAEZ,EAAEgC,GAAG/B,KAAKsN,OAAOE,KAAK,IAAI3L,EAAE9B,EAAEY,EAAEoB,GAAG,CAAC2L,WAAAA,CAAY/M,EAAEZ,GAAGC,KAAKsN,OAAOE,KAAK,IAAIpJ,EAAErE,EAAEY,GAAG,CAACsM,MAAAA,CAAOtM,GAAGX,KAAK2N,QAAS5N,GAAGA,EAAEgN,gBAAgBpM,EAAG,CAACiN,cAAAA,CAAejN,GAAGX,KAAK2N,QAAS5N,GAAGA,EAAEiN,SAASrM,EAAG,CAACkN,SAAAA,GAAY7N,KAAKsN,OAAOxC,QAASnK,GAAGA,EAAEsM,UAAWjN,KAAKsN,OAAO,EAAE,CAACK,OAAAA,CAAQhN,GAAG,MAAM2M,OAAOvN,GAAGC,KAAK,IAAI,IAAI+B,EAAEhC,EAAEyB,OAAO,EAAEO,GAAG,IAAIA,EAAE,CAAC,MAAMF,EAAE9B,EAAEgC,GAAGpB,EAAEkB,KAAKA,EAAEoL,SAASlN,EAAE+N,OAAO/L,EAAE,GAAG,CAAC,EAAE,MAAMV,UAAUC,EAAExB,WAAAA,GAAcqF,SAAS5D,WAAWvB,KAAK+N,UAAUpN,EAAAA,GAAEqN,YAAY,EAAE,MAAMzL,UAAUjB,EAAExB,WAAAA,CAAYC,GAAGoF,QAAQnF,KAAKiO,cAAclO,EAAEC,KAAK+N,UAAUpN,EAAAA,GAAEuN,SAAS,ECAt8B,MAAM7M,EAAEvB,WAAAA,CAAYC,GAAGC,KAAKmO,cAAcpO,EAAEC,KAAKoO,IAAI,IAAIhG,IAAIpI,KAAKqO,QAAO,CAAE,CAACC,UAAAA,CAAWvO,GAAG,MAAMY,EAAEX,KAAKmO,cAAcpO,EAAEwO,QAAQC,WAAWxO,KAAKmO,eAAepO,EAAEwO,QAAQE,IAAI,OAAOzO,KAAKoO,IAAIM,IAAI/N,EAAE,EAAE,MAAMyD,UAAU/C,EAAEvB,WAAAA,CAAYiC,GAAGoD,MAAMpD,GAAG/B,KAAK+N,UAAUhO,EAAAA,GAAEiO,aAAahO,KAAK2O,eAAe,IAAIhO,CAAC,EAAE,MAAM4B,UAAUlB,EAAEvB,WAAAA,CAAYa,EAAEU,GAAG8D,MAAM9D,GAAGrB,KAAKiO,cAActN,EAAEX,KAAK+N,UAAUhO,EAAAA,GAAEmO,UAAUlO,KAAK2O,eAAe,IAAI5M,EAAEpB,EAAE,ECA/Y,MAAMe,EAAE5B,WAAAA,CAAYC,GAAGC,KAAK4O,cAAc7O,EAAEC,KAAK6O,WAAW,IAAI3O,KAAK,CAAC+G,OAAAA,GAAUjH,KAAK8O,QAAQ9O,KAAK6O,WAAW,IAAI,CAACC,KAAAA,GAAQ9O,KAAK6O,aAAa7O,KAAK6O,WAAW/D,QAAS/K,GAAGA,EAAE4O,eAAed,aAAc7N,KAAK6O,WAAWrN,OAAO,EAAE,CAACuN,kBAAAA,CAAmBhN,GAAG,MAAML,EAAE,IAAIf,EAAEoB,GAAG/B,KAAK6O,WAAWrB,KAAK9L,GAAG,MAAML,GAAEtB,EAAAA,EAAAA,IAAG,IAAIC,KAAKgP,WAAWtN,IAAK,MAAM,CAACuN,IAAIvN,EAAEwN,OAAO7N,EAAE,CAAC8N,mBAAAA,CAAoBxO,EAAEe,GAAG,MAAML,EAAE,IAAIU,EAAEpB,EAAEe,GAAG1B,KAAK6O,WAAWrB,KAAKnM,GAAG,MAAM+C,GAAErE,EAAAA,EAAAA,IAAG,IAAIC,KAAKgP,WAAW3N,IAAK,MAAM,CAAC4N,IAAI5N,EAAE6N,OAAO9K,EAAE,CAAC4K,UAAAA,CAAWjP,GAAGA,EAAE4O,eAAed,YAAY,MAAMlN,EAAEX,KAAK6O,WAAW7O,KAAK6O,WAAWO,QAAQrP,IAAI,GAAG,IAAIY,GAAGX,KAAK6O,WAAWf,OAAOnN,EAAE,EAAE,CAAC0O,MAAAA,CAAOtP,EAAEY,GAAGZ,EAAEqO,IAAIxD,IAAIjK,GAAG,MAAMoB,EAAE/B,KAAK4O,cAAc/D,mBAAmByE,IAAI3O,GAAGoB,GAAGA,EAAEwN,kBAAkBxP,EAAE4O,eAAe,CAACa,OAAAA,CAAQzP,EAAEY,GAAGA,EAAEmK,QAASnK,GAAGX,KAAKqP,OAAOtP,EAAEY,GAAI,CAAC8O,YAAAA,CAAa1P,EAAEY,GAAGA,EAAEmK,QAASnK,GAAGZ,EAAEqO,IAAIxD,IAAIjK,IAAKX,KAAK0P,eAAe3P,EAAE,CAAC4P,UAAAA,CAAW5P,GAAGC,KAAK6O,WAAW/D,QAASnK,KAAKA,EAAE0N,QAAQ1N,EAAE2N,WAAWvO,IAAIA,EAAEwP,kBAAkB5O,EAAEgO,iBAAkB,CAACiB,aAAAA,CAAc7P,GAAGC,KAAK6O,WAAW/D,QAASnK,IAAIA,EAAE2N,WAAWvO,IAAIA,EAAE8P,kBAAkBlP,EAAEgO,iBAAkB,CAACmB,kBAAAA,GAAqB9P,KAAK6O,YAAY7O,KAAK6O,WAAW/D,QAAS/K,GAAGA,EAAE4O,eAAed,YAAa,CAAC6B,cAAAA,CAAe3P,GAAG,MAAMY,EAAEX,KAAK4O,cAAc/D,mBAAmB9K,EAAEoO,cAAcxN,EAAEmK,QAASnK,IAAIA,GAAGZ,EAAEuO,WAAW3N,IAAIA,EAAE4O,kBAAkBxP,EAAE4O,kBAAmB5O,EAAEqO,IAAItD,QAAS/I,IAAI,MAAML,EAAEf,EAAE2O,IAAIvN,GAAGL,GAAGA,EAAE6N,kBAAkBxP,EAAE4O,iBAAkB,CAAC,QAAIoB,GAAO,E","sources":["../node_modules/@arcgis/core/views/3d/support/FrustumExtentIntersection.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js","../node_modules/@arcgis/core/renderers/support/renderingInfoUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../core/compilerUtils.js\";import{lerp as e}from\"../../../core/mathUtils.js\";import{invert as i}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as n,g as o,E as s,t as a,i as c,e as l}from\"../../../chunks/vec32.js\";import{create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as d}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBoundingRect as m}from\"../../../geometry/projection/projectBoundingRect.js\";import{projectVectorToVector as _}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as g,create as f,expandWithVec3 as u}from\"../../../geometry/support/aaBoundingBox.js\";import{center as x,create as R}from\"../../../geometry/support/aaBoundingRect.js\";import{PlaneIndex as y}from\"../../../geometry/support/frustum.js\";import{fromPoints as j,create as b}from\"../../../geometry/support/lineSegment.js\";import{create as A,fromVectorsAndPoint as E,copy as S,negate as B,signedDistance as C}from\"../../../geometry/support/plane.js\";import{wrap as H}from\"../../../geometry/support/ray.js\";import{ViewingMode as w}from\"../../ViewingMode.js\";import{frustumLineSegment as G}from\"./intersectionUtils.js\";const M=.5*Math.PI,F=M/Math.PI*180;class N{constructor(t){this._extent=new Array(4),this._planes=new Array(6),this._maxSpan=0,this._center={origin:p(),direction:p()},this._renderCoordsHelper=t.renderCoordsHelper;for(let e=0;e<4;e++)this._extent[e]={origin:p(),direction:p(),cap:{next:null,direction:p()}},this._planes[e]=A();this._planes[y.NEAR]=A(),this._planes[y.FAR]=A(),this._planesWithoutFar=this._planes.slice(0,5)}update(t,e,i,r=!0){const a=this._extent;this._toRenderBoundingExtent(t,e,i),n(this._center.origin,a[0].origin,a[2].origin),o(this._center.origin,this._center.origin,.5),this._renderCoordsHelper.worldUpAtPosition(this._center.origin,this._center.direction),r||o(this._center.direction,this._center.direction,-1);for(let n=0;n<4;n++){const t=a[n];this._renderCoordsHelper.worldUpAtPosition(t.origin,t.direction);const e=a[3===n?0:n+1];t.cap.next=e.origin,s(t.cap.direction,t.origin,e.origin),E(t.direction,t.cap.direction,t.origin,this._planes[n]),r||o(t.direction,t.direction,-1)}E(a[0].cap.direction,a[1].cap.direction,a[0].origin,this._planes[y.NEAR]),r?B(this._planes[y.NEAR],this._planes[y.FAR]):(S(this._planes[y.FAR],this._planes[y.NEAR]),B(this._planes[y.NEAR],this._planes[y.NEAR])),this._maxSpan=Math.max(Math.abs(t[0]-t[2]),Math.abs(t[1]-t[3])),this._maxSpanSpatialReference=e,this._minGlobalAltitude=.9*h(this._maxSpanSpatialReference).radius}isVisibleInFrustum(t,e,i=!1){if(null==t)return!1;if(this._renderCoordsHelper.viewingMode===w.Global){const i=this._maxSpanSpatialReference.isGeographic?F:M*e;if(this._maxSpan>i)return!0;if(null!=t.altitude&&t.altitude>=this._minGlobalAltitude)return this._isVisibleInFrustumGlobal(t)}if(0===this._maxSpan){const e=this._extent[0];return!(i||!t.intersectsRay(H(e.origin,e.direction)))}for(let n=0;n<this._extent.length;n++){const e=this._extent[n];if(!i&&t.intersectsRay(H(e.origin,e.direction)))return!0;if(t.intersectsLineSegment(j(e.origin,e.cap.next,k),e.cap.direction))return!0}const r=i?this._planes:this._planesWithoutFar;for(let n=0;n<t.lines.length;n++){const e=t.lines[n];if(G(r,e.origin,e.endpoint,e.direction))return!0}return!1}_toRenderBoundingExtentGlobal(t,r,n){const o=5;x(t,V),V[2]=n,d(r,V,v,this._renderCoordsHelper.spatialReference),i(I,v),g(L);for(const{x0:i,x1:s,y0:c,y1:l}of U)for(let p=0;p<o;p++){const h=p/(o-1);V[0]=e(t[i],t[s],h),V[1]=e(t[c],t[l],h),V[2]=n,_(V,r,V,this._renderCoordsHelper.spatialReference),a(V,V,I),u(L,V)}c(this._extent[0].origin,L[0],L[1],L[2]),c(this._extent[1].origin,L[3],L[1],L[2]),c(this._extent[2].origin,L[3],L[4],L[2]),c(this._extent[3].origin,L[0],L[4],L[2]);for(let e=0;e<4;++e)a(this._extent[e].origin,this._extent[e].origin,v)}_toRenderBoundingExtentLocal(t,e,i){m(t,e,P,this._renderCoordsHelper.spatialReference),c(this._extent[0].origin,P[0],P[1],i),c(this._extent[1].origin,P[2],P[1],i),c(this._extent[2].origin,P[2],P[3],i),c(this._extent[3].origin,P[0],P[3],i)}_toRenderBoundingExtent(e,i,r){switch(this._renderCoordsHelper.viewingMode){case w.Global:this._toRenderBoundingExtentGlobal(e,i,r);break;case w.Local:this._toRenderBoundingExtentLocal(e,i,r);break;default:t(this._renderCoordsHelper.viewingMode)}}_isVisibleInFrustumGlobal(t){if(C(t.planes[y.NEAR],this._center.origin)<0&&l(this._center.direction,t.direction)<0)return!0;for(let e=0;e<4;e++){const i=this._extent[e];if(C(t.planes[y.NEAR],i.origin)<0&&l(i.direction,t.direction)<0)return!0}return!1}}const U=[{x0:0,y0:1,x1:2,y1:1},{x0:0,y0:3,x1:2,y1:3},{x0:0,y0:1,x1:0,y1:3},{x0:2,y0:1,x1:2,y1:3}],V=p(),v=r(),I=r(),L=f(),P=R(),k=b();export{N as FrustumExtentIntersection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{watch as s,sync as i,initial as r}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as a}from\"../../../../geometry/ellipsoidUtils.js\";import{FrustumExtentIntersection as p}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as c}from\"../../../support/Scheduler.js\";import{Yield as l}from\"../../../support/Yield.js\";const h=1.2;let u=class extends t{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new p({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,n=t.basemapTerrain,o=t.resourceController.scheduler;this.addHandles([t.on(\"resize\",(()=>this._viewChange())),s((()=>t.state.camera),(()=>this._viewChange()),i),o.registerTask(c.FRUSTUM_VISIBILITY,this),s((()=>n.visibleElevationBounds),(()=>this._elevationBoundsChange()))]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this.addHandles([s((()=>[n.baseOpacity,n.wireframe,t.map?.ground?.navigationConstraint?.type]),(()=>this._updateIsVisibleBelowSurface()),r)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=\"none\"===e.map.ground?.navigationConstraint?.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*a(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(h-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get running(){return this.updating}runTask(e){if(this._set(\"updating\",!1),!this._extent)return this._set(\"suspended\",!1),l;this._updateExtentIntersection();const t=this.graphicsCoreOwner.view.frustum,s=a(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(t,s)),e.madeProgress()}};e([n({readOnly:!0})],u.prototype,\"suspended\",void 0),e([n({constructOnly:!0})],u.prototype,\"graphicsCoreOwner\",void 0),e([n({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([o(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],u);export{u as Graphics3DFrustumVisibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as n}from\"./ExtentSet.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{TaskPriority as h}from\"../../../support/Scheduler.js\";let p=class extends e{constructor(t){super(t),this._dirtyExtents=new n,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}initialize(){const t=this.elevationProvider,e=this.graphicsCoreOwner.view.resourceController.scheduler;this._task=e.registerTask(d(this.graphicsCore.layer.elevationInfo?.mode),this),this.addHandles([t.on(\"elevation-change\",(t=>this._elevationChanged(t))),r((()=>this.graphicsCoreOwner.suspended),(()=>this._suspendedChange())),this._task,r((()=>d(this.graphicsCore.layer.elevationInfo?.mode)),(t=>this._task.priority=t))])}destroy(){this._dirtyGraphicsSet.clear(),this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(t){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,t.madeProgress()),t.run((()=>this._dirtyExtents.merge(t)));this.running&&!t.done;)this._updateDirtyGraphics(t),this._updateDirtyExtents(t);this.notifyChange(\"updating\")}_updateDirtyGraphics(t){const e=this.graphicsCoreOwner.view.renderCoordsHelper,i=this.graphicsCore.effectiveUpdatePolicy===o.ASYNC;for(const r of this._dirtyGraphicsSet.keys()){const s=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),null!=s&&(s.alignWithElevation(this.elevationProvider,e,i),this.graphicsCore.deconflictor?.setDirty(),t.madeProgress()),t.done)return}}_updateDirtyExtents(t){for(;!this._dirtyExtents.empty&&!t.done;){const e=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:e,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(e,i,(t=>{const e=this.graphicsCore.getGraphics3DGraphicById(t);null!=e&&e.needsElevationUpdates()&&this._dirtyGraphicsSet.add(t)})),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,t.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((t,e)=>this._dirtyGraphicsSet.add(e)))}_elevationChanged(t){if(\"scene\"===t.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const e=t.extent;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const t=this.graphicsCore.computedExtent;t&&e[2]>t.xmin&&e[0]<t.xmax&&e[3]>t.ymin&&e[1]<t.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",t)}else e[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(e),this.notifyChange(\"updating\")}};function d(t){return null==t?h.ELEVATION_ALIGNMENT:\"relative-to-scene\"===t?h.ELEVATION_ALIGNMENT_SCENE:h.ELEVATION_ALIGNMENT}t([s()],p.prototype,\"graphicsCoreOwner\",void 0),t([s()],p.prototype,\"graphicsCore\",void 0),t([s()],p.prototype,\"queryGraphicUIDsInExtent\",void 0),t([s()],p.prototype,\"elevationProvider\",void 0),t([s({readOnly:!0})],p.prototype,\"updating\",null),t([s({readOnly:!0})],p.prototype,\"updatingRemaining\",null),p=t([a(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],p);export{p as Graphics3DElevationAlignment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{RenderingInfo as t}from\"./RenderingInfo.js\";import{getVisualVariableValues as o}from\"../visualVariables/support/visualVariableUtils.js\";function i(e,t){if(null!=e.symbol)return e.symbol;const o=t?.renderer;return null!=o&&\"dot-density\"!==o.type?o.getSymbol(e,t):null}function r(e,r){const l=i(e,r);if(null==l)return null;const n=r?.renderer,a=new t(n,l);if(null==n||!(\"visualVariables\"in n)||!n.visualVariables)return a;const s=o(n,e,r)??[],u=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:t,value:o}of s)if(null!=o||\"size\"===t.type&&t.useSymbolValue)switch(t.type){case\"color\":a.color=o?.toRgba();break;case\"size\":if(\"outline\"===t.target)a.outlineSize=o;else{const e=t.axis,i=t.useSymbolValue?\"symbol-value\":o??\"proportional\";switch(e){case\"width\":u[0]=i;break;case\"depth\":u[1]=i;break;case\"height\":u[2]=i;break;case\"width-and-depth\":u[0]=u[1]=i;break;default:u[0]=u[1]=u[2]=i}}break;case\"opacity\":a.opacity=o;break;case\"rotation\":switch(t.axis){case\"tilt\":a.tilt=o;break;case\"roll\":a.roll=o;break;default:a.heading=o}}return\"proportional\"===u[0]&&\"proportional\"===u[1]&&\"proportional\"===u[2]||(a.size=u),a}async function l(e,t){return null!=e.symbol?e.symbol:t?.renderer?.getSymbolAsync(e,t)??null}async function n(i,r){const n=await l(i,r);if(!n)return null;const a=r?.renderer,s=new t(a,n);if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return s;const u=o(a,i,r)??[],p=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:t,value:o}of u)if(\"color\"===t.type)s.color=e.toUnitRGBA(o);else if(\"size\"===t.type)if(\"outline\"===t.target)s.outlineSize=o;else{const e=t.axis,i=t.useSymbolValue?\"symbol-value\":o;\"width\"===e?p[0]=i:\"depth\"===e?p[1]=i:\"height\"===e?p[2]=i:p[0]=p[1]=\"width-and-depth\"===e?i:p[2]=i}else\"opacity\"===t.type?s.opacity=o:\"rotation\"===t.type&&\"tilt\"===t.axis?s.tilt=o:\"rotation\"===t.type&&\"roll\"===t.axis?s.roll=o:\"rotation\"===t.type&&(s.heading=o);return(isFinite(p[0])||isFinite(p[1])||isFinite(p[2]))&&(s.size=p),s}function a(e,t=0){const o=e[t];return\"number\"==typeof o&&isFinite(o)?o:null}function s(e){for(let t=0;t<3;t++){const o=e[t];if(\"number\"==typeof o)return isFinite(o)?o:0}return 0}export{a as getDriverAxisSizeValue,s as getDriverAxisSizeValueAny,r as getRenderingInfo,n as getRenderingInfoAsync,l as getSymbolAsync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Object3DState as e}from\"./basicInterfaces.js\";class t{}class s extends t{constructor(e,t){super(),this.objectStateId=e,this.object=t}remove(){this.object.removeStateID(this.objectStateId)}}class o extends t{constructor(e,t,s){super(),this.objectStateId=e,this.object=t,this.owner=s}remove(){this.owner.removeRenderGeometryObjectState(this.object,this.objectStateId)}}class c extends t{constructor(e,t){super(),this.objectStateId=e,this._removeCallback=t,this.object=null}remove(){this._removeCallback(this.objectStateId)}}class r{constructor(){this._items=[]}addObject(e,t){this._items.push(new s(t,e))}addRenderGeometry(e,t,s){this._items.push(new o(t,e,s))}addExternal(e,t){this._items.push(new c(t,e))}remove(e){this._remove((t=>t.objectStateId===e))}removeByObject(e){this._remove((t=>t.object===e))}removeAll(){this._items.forEach((e=>e.remove())),this._items=[]}_remove(e){const{_items:t}=this;for(let s=t.length-1;s>=0;--s){const o=t[s];e(o)&&(o.remove(),t.splice(s,1))}}}class i extends r{constructor(){super(...arguments),this.stateType=e.MaskOccludee}}class h extends r{constructor(t){super(),this.highlightName=t,this.stateType=e.Highlight}}export{h as Object3DHighlightStateSet,i as Object3DOccludeeStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Object3DState as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DOccludeeStateSet as e,Object3DHighlightStateSet as s}from\"../../webgl-engine/lib/Object3DStateSet.js\";class i{constructor(t){this.objectIdField=t,this.ids=new Set,this.paused=!1}hasGraphic(t){const e=this.objectIdField?t.graphic.attributes[this.objectIdField]:t.graphic.uid;return this.ids.has(e)}}class c extends i{constructor(s){super(s),this.stateType=t.MaskOccludee,this.objectStateSet=new e}}class h extends i{constructor(e,i){super(i),this.highlightName=e,this.stateType=t.Highlight,this.objectStateSet=new s(e)}}export{h as Graphics3DObjectHighlightStateSet,c as Graphics3DOccludeeStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{Graphics3DOccludeeStateSet as e,Graphics3DObjectHighlightStateSet as s}from\"./Graphics3DObjectStateSet.js\";class a{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this.reset(),this._stateSets=null}reset(){this._stateSets&&(this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets.length=0)}acquireOccludeeSet(s){const a=new e(s);this._stateSets.push(a);const i=t((()=>this.releaseSet(a)));return{set:a,handle:i}}acquireHighlightSet(e,a){const i=new s(e,a);this._stateSets.push(i);const c=t((()=>this.releaseSet(i)));return{set:i,handle:c}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&s.addObjectStateSet(t.objectStateSet)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&t.addObjectStateSet(e.objectStateSet)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&t.removeObjectState(e.objectStateSet)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&e.addObjectStateSet(t.objectStateSet)})):t.ids.forEach((s=>{const a=e.get(s);a&&a.addObjectStateSet(t.objectStateSet)}))}get test(){}}export{a as Graphics3DObjectStates};\n"],"names":["M","Math","PI","F","N","constructor","t","this","_extent","Array","_planes","_maxSpan","_center","origin","p","direction","_renderCoordsHelper","renderCoordsHelper","e","cap","next","A","y","NEAR","FAR","_planesWithoutFar","slice","update","i","r","arguments","length","undefined","a","_toRenderBoundingExtent","n","o","worldUpAtPosition","s","E","B","S","max","abs","_maxSpanSpatialReference","_minGlobalAltitude","h","radius","isVisibleInFrustum","viewingMode","w","Global","isGeographic","altitude","_isVisibleInFrustumGlobal","intersectsRay","H","intersectsLineSegment","j","k","lines","G","endpoint","_toRenderBoundingExtentGlobal","x","V","d","v","spatialReference","I","g","L","x0","x1","y0","c","y1","l","U","_","u","_toRenderBoundingExtentLocal","m","P","Local","C","planes","f","R","b","super","suspended","_extentIntersectionDirty","_isVisibleBelowSurfaceInternal","graphicsCoreOwner","updating","initialize","_extentIntersection","view","basemapTerrain","resourceController","scheduler","addHandles","on","_viewChange","state","camera","registerTask","FRUSTUM_VISIBILITY","visibleElevationBounds","_elevationBoundsChange","_isVisibleBelowSurface","_t$map","baseOpacity","wireframe","map","ground","navigationConstraint","type","_updateIsVisibleBelowSurface","destroy","_set","_setDirty","setExtent","_e$map$ground","opaque","_updateExtentIntersection","min","running","runTask","frustum","madeProgress","readOnly","prototype","constructOnly","_dirtyExtents","_globalDirty","_averageExtentUpdateSize","_dirtyGraphicsSet","Set","_updateElevation","graphicsCore","events","_this$graphicsCore$la","elevationProvider","_task","layer","elevationInfo","mode","_elevationChanged","_suspendedChange","_this$graphicsCore$la2","priority","clear","queryGraphicUIDsInExtent","notifyChange","elevationInfoChange","size","empty","updatingRemaining","_markAllGraphicsElevationDirty","run","merge","done","_updateDirtyGraphics","_updateDirtyExtents","effectiveUpdatePolicy","ASYNC","keys","_this$graphicsCore$de","getGraphics3DGraphicById","delete","alignWithElevation","deconflictor","setDirty","pop","emit","extent","needsElevationUpdates","add","graphics3DGraphics","forEach","context","computedExtent","xmin","xmax","ymin","ymax","ELEVATION_ALIGNMENT","ELEVATION_ALIGNMENT_SCENE","_o","symbol","renderer","getSymbol","visualVariables","variable","value","useSymbolValue","color","toRgba","target","outlineSize","axis","opacity","tilt","roll","heading","async","_o2","_t$renderer$getSymbol","_t$renderer","getSymbolAsync","toUnitRGBA","isFinite","objectStateId","object","remove","removeStateID","owner","removeRenderGeometryObjectState","_removeCallback","_items","addObject","push","addRenderGeometry","addExternal","_remove","removeByObject","removeAll","splice","stateType","MaskOccludee","highlightName","Highlight","objectIdField","ids","paused","hasGraphic","graphic","attributes","uid","has","objectStateSet","_graphicsCore","_stateSets","reset","acquireOccludeeSet","releaseSet","set","handle","acquireHighlightSet","indexOf","setUid","get","addObjectStateSet","setUids","setObjectIds","_initializeSet","addGraphic","removeGraphic","removeObjectState","allGraphicsDeleted","test"],"sourceRoot":""}