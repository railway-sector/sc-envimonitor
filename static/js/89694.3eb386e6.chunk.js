"use strict";(self.webpackChunksc_envimonitor=self.webpackChunksc_envimonitor||[]).push([[89694],{89694:(t,s,n)=>{n.r(s),n.d(s,{SplatSortWorkerInput:()=>r,SplatSortWorkerOutput:()=>e,destroy:()=>h,sort:()=>f});class r{constructor(t,s,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.distances=t,this.sortOrderIndices=s,this.numGaussians=n,this.preciseSort=r}}class e{constructor(t,s){this.distances=t,this.sortedOrderIndices=s}}let o=null,i=null;const l=10,a=20,c=.25;function u(t,s){const n=t.length,r=Math.max(l,Math.min(a,Math.round(Math.log2(n/c)))),e=1+(1<<r);!function(t,s){var n;(null===(n=o)||void 0===n?void 0:n.length)!==t&&(o=new Uint32Array(t)),i&&i.length===1+(1<<s)?i.fill(0):i=new Uint32Array(1+(1<<s))}(n,r);let u=t[0],f=t[0];for(let o=0;o<t.length;o++)u=Math.min(u,t[o]),f=Math.max(f,t[o]);const h=f-u;if(h<1e-6)for(let l=0;l<n;++l)o[l]=0,i[0]++;else{const s=(1<<r)/h;for(let r=0;r<n;r++){const n=(t[r]-u)*s>>>0;o[r]=n,i[n]++}}for(let o=1;o<e;o++)i[o]+=i[o-1];for(let l=0;l<n;l++){const t=o[l];s[--i[t]]=l}}async function f(t){const{distances:s,sortOrderIndices:n,preciseSort:r,numGaussians:o}=t,i=s.subarray(0,o),l=n.subarray(0,o);if(0===i.length||0===l.length)return{result:new e(s,n),transferList:[s.buffer,n.buffer]};if(r){const t=Array.from(l.keys());t.sort((t,s)=>i[t]-i[s]||t-s);const s=t.map(t=>l[t]);l.set(s)}else u(i,l);return{result:new e(s,n),transferList:[s.buffer,n.buffer]}}function h(){o=null,i=null}}}]);
//# sourceMappingURL=89694.3eb386e6.chunk.js.map